<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adicionar Endereço</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="pagina">

    <nav class="navbar carrinho">
    <div class="container-fluid">
        <a class="navbar-brand" href="carrinho.html" style="letter-spacing: -5px; font-size: 30px; margin-left: 0px; display: flex; align-items: center; justify-content: center;"><<</a>

        <h2>Seu Carrinho</h2></a></a>

        <a class="navbar-brand" href="pagamentos.html" id="pagamentos"><img id="carrinho"
            src="Assets/Imagens/Vector.svg" width="50px" height="60px"  alt="carrinho"> </a></a>
    </div>
    </nav>
    

    <form class="endereco">
        <input type="text" name="cep" id="cep" placeholder="CEP" required><br>
        <input type="text" name="pais" id="pais" placeholder="País" required><br>
        <input type="text" name="estado" id="estado" placeholder="Estado" required><br>
        <input type="text" name="cidade" id="cidade" placeholder="Cidade" required><br>
        <input type="text" name="rua" id="rua" placeholder="Rua" required><br>
        <input type="number" name="numero" id="numero" placeholder="Número da casa" required><br>
        <input type="text" name="complemento" id="complemento" placeholder="Complemento"><br>
        <textarea id="observacoes" name="observacoes" oninput="autoResize(this)" placeholder="Observações"></textarea><br>
        <button class="botao" type="submit">Salvar</button>
        <button class="botao-limpar" type="reset">Limpar</button>
    </form>

    <script>
    function autoResize(textarea) {
        textarea.style.height = 'auto'; // reseta a altura
        textarea.style.height = textarea.scrollHeight + 'px'; // ajusta para o conteúdo
    }
    </script>

    <script>
  document.getElementById("cep").addEventListener("blur", async function () {
    const cep = this.value.replace(/\D/g, "");

    if (cep.length !== 8) {
      alert("CEP inválido. Digite 8 números.");
      return;
    }

    try {
      const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
      const data = await response.json();

      if (data.erro) {
        alert("CEP não encontrado.");
      } else {
        document.getElementById("pais").value = "Brasil";
        document.getElementById("estado").value = data.uf;
        document.getElementById("cidade").value = data.localidade;
        document.getElementById("rua").value = data.logradouro;
      }
    } catch (error) {
      alert("Erro ao buscar o CEP.");
    }
  });
</script>

</div>

<footer>
<div class="footer-top">
    <ul>
    <li><a href="contato.html">Contato</a></li>
    <li><a href="localizacao.html">Localização</a></li>
    <li><a href="faq.html">Dúvidas</a></li>
    </ul>
    <ul class="logo-footer">
    <li><a href="home.html"><img src="Assets/Imagens/logo_minimalista.png" alt=""></a></li>
    </ul>
</div>
<div class="footer-bottom">
    <a href="direitosreservados.html"><p>Todos os direitos reservados © 2025 - RO SeaHorse</p></a>
</div>
</footer>
    
</body>
</html>